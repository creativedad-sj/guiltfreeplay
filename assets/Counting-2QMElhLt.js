import{u as E,r as s,j as e}from"./index-q4Tafjib.js";import{u as M,e as y,c as k,d as A,G,F as O,a as P}from"./FeedbackMessage-D5NxYDaB.js";import{C as F}from"./Confetti-DNIpBQ5W.js";const R=["Amazing!","Great job!","You did it!","Wonderful!","Fantastic!","Youre so smart!","Excellent work!","Perfect!","You got it!","Way to go!","Outstanding!","Youre a star!","Beautiful!","Well done!","You made it look easy!"],T=["Good try!","Nice effort!","Almost!","Youll get it next time!","That was close!","Keep trying!","Not quite, but great effort!","Youre learning!","Mistakes help us grow!","Every expert started as a beginner!"],W=["Try again!","Give it another shot!","You can do it!","Keep going!","One more try!","I believe in you!","Youve got this!","Dont give up!"],z=()=>{const{recordAttempt:i}=E(),o=M(),[c,l]=s.useState(1),[u,d]=s.useState(y[0]),[m,h]=s.useState(0),[g,p]=s.useState(0),[t,r]=s.useState({show:!1,type:"",message:""}),[C,b]=s.useState(null),[S,j]=s.useState(!1),v=k("correct"),N=k("wrong"),Y=A(),f=a=>a[Math.floor(Math.random()*a.length)],x=s.useCallback(()=>{const a=Math.floor(Math.random()*10)+1,n=y[Math.floor(Math.random()*y.length)];l(a),d(n),r({show:!1,type:"",message:""}),o(`How many ${n.name}?`)},[o]);return s.useEffect(()=>{x()},[x]),{count:c,object:u,score:m,attempts:g,feedback:t,shakeId:C,showConfetti:S,handleNumberClick:a=>{if(p(n=>n+1),a===c){const n=f(R);h(w=>w+1),j(!0),v?.(),i("counting",!0),o(n),r({show:!0,type:"success",message:n}),setTimeout(()=>{j(!1),x()},1500)}else{const n=f(T),w=f(W);Y(200),N?.(),b(a),i("counting",!1),o(n),setTimeout(()=>o(w),800),r({show:!0,type:"error",message:n}),setTimeout(()=>{b(null),r({show:!1,type:"",message:""})},800)}},speak:o}};function K(){const{count:i,object:o,score:c,feedback:l,shakeId:u,showConfetti:d,handleNumberClick:m,speak:h}=z(),[g,p]=s.useState("portrait");return s.useEffect(()=>{const t=()=>{p(window.innerHeight>window.innerWidth?"portrait":"landscape")};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),e.jsxs(G,{title:"Counting Fun",score:c,children:[e.jsx(O,{feedback:l}),e.jsxs("div",{className:"text-center mb-3",children:[e.jsxs("p",{className:"text-text-secondary text-sm mb-1",children:["How many ",o.name,"?"]}),e.jsxs("div",{className:"flex items-center justify-center gap-3 bg-gray-100 rounded-full py-2 px-4",children:[e.jsx("div",{className:"flex gap-1 text-4xl",children:Array.from({length:i}).map((t,r)=>e.jsx("span",{children:o.emoji},r))}),e.jsx("button",{onClick:()=>h(`How many ${o.name}?`),className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center text-xl hover:bg-primary/30 transition-colors","aria-label":"Repeat instruction",children:"ðŸ”Š"})]})]}),e.jsx("div",{className:`
        grid gap-3 place-items-center h-full
        ${g==="portrait"?"grid-cols-2 grid-rows-2":"grid-cols-4 grid-rows-1"}
      `,children:[1,2,3,4,5,6,7,8,9,10].map(t=>e.jsxs(P,{onClick:()=>m(t),shake:u===t,children:[e.jsx("span",{className:"text-7xl",children:t}),e.jsxs("span",{children:["Number ",t]})]},t))}),d&&e.jsx(F,{})]})}export{K as default};
