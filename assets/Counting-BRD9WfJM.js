import{u as M,r as s,j as t}from"./index-DweIdlT1.js";import{u as G,e as x,c as k,d as O,G as A,F,a as P}from"./FeedbackMessage-hvMpplFp.js";import{C as R}from"./Confetti-Daf2f1yJ.js";const W=["Amazing!","Great job!","You did it!","Wonderful!","Fantastic!","Youre so smart!","Excellent work!","Perfect!","You got it!","Way to go!","Outstanding!","Youre a star!","Beautiful!","Well done!"],Y=["Good try!","Nice effort!","Almost!","So close!","Keep trying!","Not quite!","Try again!","Youll get it!"],z=()=>{const{recordAttempt:r}=M(),n=G(),[c,i]=s.useState(1),[l,u]=s.useState(x[0]),[d,m]=s.useState(0),[w,h]=s.useState(0),[f,e]=s.useState({show:!1,type:"",message:""}),[p,b]=s.useState(null),[C,j]=s.useState(!1),S=k("correct"),N=k("wrong"),v=O(),y=a=>a[Math.floor(Math.random()*a.length)],g=s.useCallback(()=>{const a=Math.floor(Math.random()*10)+1,o=x[Math.floor(Math.random()*x.length)];i(a),u(o),e({show:!1,type:"",message:""}),n(`How many ${o.name}?`)},[n]);return s.useEffect(()=>{g()},[g]),{count:c,object:l,score:d,attempts:w,feedback:f,shakeId:p,showConfetti:C,handleNumberClick:a=>{if(h(o=>o+1),a===c){const o=y(W);m(E=>E+1),j(!0),S?.(),r("counting",!0),n(o),e({show:!0,type:"success",message:o}),setTimeout(()=>{j(!1),g()},1500)}else{const o=y(Y);v(200),N?.(),b(a),r("counting",!1),n(o),e({show:!0,type:"error",message:o}),setTimeout(()=>{b(null),e({show:!1,type:"",message:""})},800)}},speak:n}};function $(){const{count:r,object:n,score:c,feedback:i,shakeId:l,showConfetti:u,handleNumberClick:d,speak:m}=z(),[w,h]=s.useState("portrait");s.useEffect(()=>{const e=()=>{h(window.innerHeight>window.innerWidth?"portrait":"landscape")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const f=[1,2,3,4,5,6,7,8,9,10];return t.jsxs(A,{title:"Counting Fun",score:c,children:[t.jsx(F,{feedback:i}),t.jsx("div",{className:"flex-shrink-0 mb-1",children:t.jsxs("div",{className:"flex items-center justify-center gap-1 bg-gray-100 rounded-full py-0.5 px-2",children:[t.jsx("div",{className:"flex gap-0.5 text-xl md:text-2xl",children:Array.from({length:r}).map((e,p)=>t.jsx("span",{children:n.emoji},p))}),t.jsx("button",{onClick:()=>m(`How many ${n.name}?`),className:"w-6 h-6 bg-primary/20 rounded-full flex items-center justify-center text-sm hover:bg-primary/30 transition-colors","aria-label":"Repeat instruction",children:"ðŸ”Š"})]})}),t.jsx("div",{className:"flex-1 flex items-center justify-center min-h-0 w-full",children:t.jsx("div",{className:"grid grid-cols-5 grid-rows-2 gap-1 w-full h-full max-h-full",children:f.map(e=>t.jsxs(P,{onClick:()=>d(e),shake:l===e,children:[t.jsx("span",{className:"text-[clamp(2rem,8vw,4rem)] font-bold",children:e}),t.jsxs("span",{children:["Number ",e]})]},e))})}),u&&t.jsx(R,{})]})}export{$ as default};
