import{u as M,r as s,j as e}from"./index-Cxg05TkY.js";import{u as G,e as x,c as y,d as O,G as Y,F as A,a as F}from"./FeedbackMessage-26b_O_mc.js";import{C as P}from"./Confetti-ZOUiViKL.js";const R=["Amazing!","Great job!","You did it!","Wonderful!","Fantastic!","Youre so smart!","Excellent work!","Perfect!","You got it!","Way to go!","Outstanding!","Youre a star!","Beautiful!","Well done!","You made it look easy!"],W=["Good try!","Nice effort!","Almost!","So close!","Keep trying!","Not quite!","Try again!","Youll get it!"],z=()=>{const{recordAttempt:c}=M(),a=G(),[i,l]=s.useState(1),[u,d]=s.useState(x[0]),[m,h]=s.useState(0),[p,g]=s.useState(0),[t,r]=s.useState({show:!1,type:"",message:""}),[k,w]=s.useState(null),[C,b]=s.useState(!1),S=y("correct"),N=y("wrong"),v=O(),j=n=>n[Math.floor(Math.random()*n.length)],f=s.useCallback(()=>{const n=Math.floor(Math.random()*10)+1,o=x[Math.floor(Math.random()*x.length)];l(n),d(o),r({show:!1,type:"",message:""}),a(`How many ${o.name}?`)},[a]);return s.useEffect(()=>{f()},[f]),{count:i,object:u,score:m,attempts:p,feedback:t,shakeId:k,showConfetti:C,handleNumberClick:n=>{if(g(o=>o+1),n===i){const o=j(R);h(E=>E+1),b(!0),S?.(),c("counting",!0),a(o),r({show:!0,type:"success",message:o}),setTimeout(()=>{b(!1),f()},1500)}else{const o=j(W);v(200),N?.(),w(n),c("counting",!1),a(o),r({show:!0,type:"error",message:o}),setTimeout(()=>{w(null),r({show:!1,type:"",message:""})},800)}},speak:a}};function $(){const{count:c,object:a,score:i,feedback:l,shakeId:u,showConfetti:d,handleNumberClick:m,speak:h}=z(),[p,g]=s.useState("portrait");return s.useEffect(()=>{const t=()=>{g(window.innerHeight>window.innerWidth?"portrait":"landscape")};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),e.jsxs(Y,{title:"Counting Fun",score:i,children:[e.jsx(A,{feedback:l}),e.jsxs("div",{className:"text-center mb-3",children:[e.jsxs("p",{className:"text-text-secondary text-sm mb-1",children:["How many ",a.name,"?"]}),e.jsxs("div",{className:"flex items-center justify-center gap-3 bg-gray-100 rounded-full py-2 px-4",children:[e.jsx("div",{className:"flex gap-1 text-4xl",children:Array.from({length:c}).map((t,r)=>e.jsx("span",{children:a.emoji},r))}),e.jsx("button",{onClick:()=>h(`How many ${a.name}?`),className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center text-xl hover:bg-primary/30 transition-colors","aria-label":"Repeat instruction",children:"ðŸ”Š"})]})]}),e.jsx("div",{className:`
        grid gap-3 place-items-center h-full
        ${p==="portrait"?"grid-cols-2 grid-rows-2":"grid-cols-4 grid-rows-1"}
      `,children:[1,2,3,4,5,6,7,8,9,10].map(t=>e.jsxs(F,{onClick:()=>m(t),shake:u===t,children:[e.jsx("span",{className:"text-7xl",children:t}),e.jsxs("span",{children:["Number ",t]})]},t))}),d&&e.jsx(P,{})]})}export{$ as default};
