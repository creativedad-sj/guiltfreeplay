import{u as v,r as t,j as e}from"./index-BB6VO97V.js";import{u as M,d as p,a as y,b as F,G,F as I}from"./FeedbackMessage-B_sh1LP-.js";import{C as O}from"./Confetti-2JHVlQgz.js";const $=()=>{const{recordAttempt:n}=v(),s=M(),[r,u]=t.useState(1),[m,d]=t.useState(p[0]),[h,x]=t.useState(0),[a,c]=t.useState(0),[j,l]=t.useState({show:!1,type:"",message:""}),[w,b]=t.useState(null),[k,g]=t.useState(!1),C=y("correct"),S=y("wrong"),N=F(),f=t.useCallback(()=>{const i=Math.floor(Math.random()*10)+1,o=p[Math.floor(Math.random()*p.length)];u(i),d(o),l({show:!1,type:"",message:""}),s(`How many ${o.name}?`)},[s]);return t.useEffect(()=>{f()},[f]),{count:r,object:m,score:h,attempts:a,feedback:j,shakeId:w,showConfetti:k,handleNumberClick:i=>{c(o=>o+1),i===r?(x(o=>o+1),g(!0),C?.(),n("counting",!0),l({show:!0,type:"success",message:"ðŸŽ‰ Great counting!"}),setTimeout(()=>{g(!1),f()},1500)):(N(200),S?.(),b(i),n("counting",!1),l({show:!0,type:"error",message:"Oops! Try again"}),setTimeout(()=>{b(null),l({show:!1,type:"",message:""})},800))},speak:s}};function T(){const{count:n,object:s,score:r,feedback:u,shakeId:m,showConfetti:d,handleNumberClick:h,speak:x}=$();return e.jsxs(G,{title:"Counting Fun",score:r,children:[e.jsx(I,{feedback:u}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("p",{className:"text-text-secondary mb-2",children:["How many ",s.name,"?"]}),e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx("div",{className:"flex justify-center gap-2 text-6xl bg-gray-100 py-6 px-8 rounded-full flex-wrap",children:Array.from({length:n}).map((a,c)=>e.jsx("span",{className:"inline-block animate-bounce",style:{animationDelay:`${c*.1}s`},children:s.emoji},c))}),e.jsx("button",{onClick:()=>x(`How many ${s.name}?`),className:"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center text-2xl hover:bg-primary/30 transition-colors","aria-label":"Repeat instruction",children:"ðŸ”Š"})]})]}),e.jsx("div",{className:"grid grid-cols-5 gap-3 max-w-md mx-auto",children:[1,2,3,4,5,6,7,8,9,10].map(a=>e.jsx("div",{onClick:()=>h(a),className:`
              bg-gradient-to-br from-blue-400 to-blue-600 text-white rounded-2xl p-4 text-2xl font-bold
              text-center cursor-pointer shadow-lg transition-all transform hover:scale-110 active:scale-90
              ${m===a?"animate-shake":""}
            `,role:"button",tabIndex:0,children:a},a))}),d&&e.jsx(O,{})]})}export{T as default};
