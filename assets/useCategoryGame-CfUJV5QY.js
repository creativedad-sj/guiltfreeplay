import{u as z,r as s}from"./index-Bz7ikJcQ.js";import{u as N,c,d as O}from"./FeedbackMessage-BJ9LOw3J.js";const m=o=>[...o].sort(()=>Math.random()-.5),$=(o,d,P)=>{const{recordAttempt:l}=z(),n=N(),[f,p]=s.useState(null),[S,g]=s.useState([]),[w,k]=s.useState(0),[C,y]=s.useState(0),[I,a]=s.useState({show:!1,type:"",message:""}),[b,i]=s.useState(null),[x,h]=s.useState(!1),T=c("correct"),A=c("wrong"),E=O(),r={};o.forEach(e=>{e.sound&&(r[e.id]=c(e.sound))});const u=s.useCallback(()=>{const e=Math.floor(Math.random()*o.length),t=o[e];p(t);const G=o.filter(v=>v.id!==t.id),M=m(G).slice(0,3),F=m([t,...M]);g(F),a({show:!1,type:"",message:""}),n(`Find the ${t.name}`)},[o,n]);return s.useEffect(()=>{u()},[u]),{currentItem:f,shuffledItems:S,score:w,attempts:C,feedback:I,shakeId:b,showConfetti:x,handleItemClick:e=>{y(t=>t+1),r[e.id]&&r[e.id](),e.id===f.id?(k(t=>t+1),h(!0),T?.(),l(d,!0),n("Amazing!"),a({show:!0,type:"success",message:"ðŸŽ‰ Great!"}),setTimeout(()=>{h(!1),u()},1500)):(E(200),A?.(),i(e.id),l(d,!1),n("Try again"),a({show:!0,type:"error",message:"Try again!"}),setTimeout(()=>{i(null),a({show:!1,type:"",message:""})},800))},speak:n}};export{$ as u};
