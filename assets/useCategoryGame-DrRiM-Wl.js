import{u as N,r as s}from"./index-BB6VO97V.js";import{u as O,a as c,b as P}from"./FeedbackMessage-B_sh1LP-.js";const m=o=>[...o].sort(()=>Math.random()-.5),j=(o,d,R)=>{const{recordAttempt:l}=N(),a=O(),[f,p]=s.useState(null),[S,w]=s.useState([]),[k,C]=s.useState(0),[g,b]=s.useState(0),[y,n]=s.useState({show:!1,type:"",message:""}),[I,h]=s.useState(null),[x,i]=s.useState(!1),E=c("correct"),G=c("wrong"),M=P(),r={};o.forEach(e=>{e.sound&&(r[e.id]=c(e.sound))});const u=s.useCallback(()=>{const e=Math.floor(Math.random()*o.length),t=o[e];p(t);const T=o.filter(v=>v.id!==t.id),A=m(T).slice(0,3),F=m([t,...A]);w(F),n({show:!1,type:"",message:""}),a(`Find the ${t.name}`)},[o,a]);return s.useEffect(()=>{u()},[u]),{currentItem:f,shuffledItems:S,score:k,attempts:g,feedback:y,shakeId:I,showConfetti:x,handleItemClick:e=>{b(t=>t+1),r[e.id]&&r[e.id](),e.id===f.id?(C(t=>t+1),i(!0),E?.(),l(d,!0),n({show:!0,type:"success",message:"ðŸŽ‰ Great!"}),setTimeout(()=>{i(!1),u()},1500)):(M(200),G?.(),h(e.id),l(d,!1),n({show:!0,type:"error",message:"Try again!"}),setTimeout(()=>{h(null),n({show:!1,type:"",message:""})},800))},speak:a}};export{j as u};
